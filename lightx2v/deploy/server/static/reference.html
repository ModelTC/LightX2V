<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>AI视频生成平台</title>
    <script src="https://res.gemcoder.com/js/reload.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
                  theme: {
                      extend: {
                                                     colors: {
                               primary: '#9a72ff', // 主紫色
                               secondary: '#1b1240', // 深紫色背景
                               accent: '#b78bff', // 亮紫色强调
                               dark: '#0b0a20', // 深色背景
                               'dark-light': '#0f0e22', // 稍亮的深色
                               'laser-purple': '#9a72ff', // 激光紫色
                               'neon-purple': '#b78bff', // 霓虹紫色
                               'electric-purple': '#7c6aff', // 电光紫色
                           },
                          fontFamily: {
                              inter: ['Inter', 'sans-serif'],
                          },
                                                     boxShadow: {
                               'neon': '0 0 10px rgba(154, 114, 255, 0.5), 0 0 20px rgba(154, 114, 255, 0.3)',
                               'neon-lg': '0 0 15px rgba(154, 114, 255, 0.7), 0 0 30px rgba(154, 114, 255, 0.5)',
                               'laser': '0 0 20px rgba(154, 114, 255, 0.8), 0 0 40px rgba(154, 114, 255, 0.6), 0 0 60px rgba(154, 114, 255, 0.4), 0 0 80px rgba(154, 114, 255, 0.2)',
                               'laser-intense': '0 0 25px rgba(154, 114, 255, 0.9), 0 0 50px rgba(154, 114, 255, 0.7), 0 0 75px rgba(154, 114, 255, 0.5), 0 0 100px rgba(154, 114, 255, 0.3), 0 0 125px rgba(154, 114, 255, 0.1)',
                               'electric': '0 0 15px rgba(124, 106, 255, 0.8), 0 0 30px rgba(124, 106, 255, 0.6), 0 0 45px rgba(124, 106, 255, 0.4)',
                           }
                      },
                  }
              }
    </script>
    <style type="text/tailwindcss">
      @layer utilities {
          .content-auto {
              content-visibility: auto;
          }
          .text-gradient {
              background-clip: text;
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
          }
                     .bg-grid {
               background-size: 40px 40px;
               background-image:
                   linear-gradient(to right, rgba(154, 114, 255, 0.15) 1px, transparent 1px),
                   linear-gradient(to bottom, rgba(154, 114, 255, 0.15) 1px, transparent 1px);
           }
          .scrollbar-thin {
              scrollbar-width: thin;
          }
          .scrollbar-thin::-webkit-scrollbar {
              width: 4px;
          }
                     .scrollbar-thin::-webkit-scrollbar-thumb {
               background-color: rgba(154, 114, 255, 0.6);
               border-radius: 2px;
           }
          .animate-pulse-slow {
              animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 0.5) infinite;
          }
          .animate-float {
              animation: float 6s ease-in-out infinite;
          }
          .animate-laser-glow {
              animation: laserGlow 2s ease-in-out infinite alternate;
          }
          .animate-electric-pulse {
              animation: electricPulse 1.5s ease-in-out infinite;
          }
          .animate-neon-flicker {
              animation: neonFlicker 3s ease-in-out infinite;
          }
          @keyframes float {
              0% { transform: translateY(0px); }
              50% { transform: translateY(-10px); }
              100% { transform: translateY(0px); }
          }
                     @keyframes laserGlow {
               0% { 
                   box-shadow: 0 0 10px rgba(154, 114, 255, 0.8), 0 0 40px rgba(154, 114, 255, 0.6), 0 0 60px rgba(154, 114, 255, 0.4);
                   filter: brightness(0.8) saturate(0.7);
               }
               100% { 
                   box-shadow: 0 0 20px rgba(154, 114, 255, 1), 0 0 60px rgba(154, 114, 255, 0.8), 0 0 90px rgba(154, 114, 255, 0.6);
                   filter: brightness(1) saturate(1);
               }
           }
                     @keyframes electricPulse {
               0%, 100% { 
                   box-shadow: 0 0 15px rgba(124, 106, 255, 0.8), 0 0 30px rgba(124, 106, 255, 0.6);
                   transform: scale(1);
               }
               50% { 
                   box-shadow: 0 0 25px rgba(124, 106, 255, 1), 0 0 50px rgba(124, 106, 255, 0.8), 0 0 75px rgba(124, 106, 255, 0.4);
                   transform: scale(1.02);
               }
           }
                     @keyframes neonFlicker {
               0%, 100% { 
                   box-shadow: 0 0 20px rgba(183, 139, 255, 0.8), 0 0 40px rgba(183, 139, 255, 0.6);
                   opacity: 1;
               }
               25% { 
                   box-shadow: 0 0 15px rgba(183, 139, 255, 0.6), 0 0 30px rgba(183, 139, 255, 0.4);
                   opacity: 0.8;
               }
               75% { 
                   box-shadow: 0 0 25px rgba(183, 139, 255, 1), 0 0 50px rgba(183, 139, 255, 0.8);
                   opacity: 1.1;
               }
           }
                     .bg-laser-gradient {
               background: linear-gradient(135deg, #9a72ff 0%, #b78bff 25%, #7c6aff 50%, #9a72ff 75%, #b78bff 100%);
               background-size: 200% 200%;
               animation: gradientShift 3s ease-in-out infinite;
           }
          @keyframes gradientShift {
              0%, 100% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
          }
                     .text-laser-glow {
               text-shadow: 0 0 10px rgba(154, 114, 255, 0.8), 0 0 20px rgba(154, 114, 255, 0.6), 0 0 30px rgba(154, 114, 255, 0.4);
           }
                     .border-laser {
                border-color: #9a72ff;
                box-shadow: 0 0 15px rgba(154, 114, 255, 0.6), inset 0 0 15px rgba(154, 114, 255, 0.1);
            }
           .btn-primary{ 
               padding:12px 22px; 
               border-radius:14px; 
               font-weight:700; 
               letter-spacing:.2px; 
               color:#0c0920;
               background:linear-gradient(135deg,#d2c1ff,#a88bff,#8e88ff); 
               border:0; 
               text-decoration:none;
               box-shadow:0 10px 30px rgba(140,110,255,.4); 
               transition: transform .15s ease, box-shadow .15s ease; 
           }
           .btn-primary:hover{ 
               transform: translateY(-1px); 
               box-shadow:0 14px 40px rgba(140,110,255,.55); 
           }
      }
    </style>
  </head>
  <body
    class="bg-dark text-gray-100 font-inter min-h-screen flex overflow-hidden"
    style="transform: scale(0.8); transform-origin: top left; width: 125%; height: 125%;"
  >
    <!-- 侧边栏 - 历史任务 -->
    <aside
      class="w-64 bg-secondary border-r border-laser-purple/40 flex flex-col transition-all duration-300 ease-in-out z-10"
      data-ytextravalue="extra-gmbjof5up"
    >
      <div
        class="p-4 border-b border-laser-purple/40"
        data-ytindex="0"
        data-ytoriginindex="0"
        data-ytparentvalue="extra-gmbjof5up"
        style="opacity: 1; color: rgb(243, 244, 246); font-family: Inter, sans-serif; font-size: 16px; font-weight: 400; font-style: normal; line-height: 24px; text-align: start; text-indent: 0px;"
      >
        <h1
          class="text-xl font-bold flex items-center"
          data-ytextravalue="extra-wwf29tqml"
          style
        >
          <i
            class="fas fa-video text-laser-purple mr-2"
            data-ytindex="0"
            data-ytoriginindex="0"
            style
          >
          </i>
          <span
            contenteditable="false"
            data-ytindex="1"
            data-ytoriginindex="1"
            data-ytparentvalue="extra-wwf29tqml"
            style="outline: none; opacity: 1; color: white; font-family: Inter, sans-serif; font-size: 20px; font-weight: 700; font-style: normal; line-height: 28px; text-align: start; text-indent: 0px;"
          >
            LightX2V
          </span>
        </h1>
      </div>
      <div
        class="p-4 border-b border-laser-purple/40"
        data-ytindex="1"
        data-ytoriginindex="2"
      >
                 <button
           class="w-full btn-primary py-2 rounded-lg flex items-center justify-center transition-all duration-200 font-medium text-sm"
           data-ytindex="1"
           data-ytoriginindex="0"
           data-ytparentvalue="extra-f35h9x7a7"
           id="new-task-btn"
           style="position: relative; top: -17.3333px; opacity: 1; color: rgb(255, 255, 255); font-family: Inter, sans-serif; font-size: 14px; font-weight: 500; font-style: normal; line-height: 20px; text-align: center; text-indent: 0px;"
         >
          <i class="fas fa-plus mr-2"> </i>
          新建任务
        </button>
        <div class="relative">
          <input
            class="w-full bg-dark-light border border-laser-purple/30 rounded-lg py-2 pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-laser-purple/50 transition-all focus:border-laser focus:shadow-laser"
            placeholder="搜索历史任务..."
            type="text"
          />
          <i
            class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
          >
          </i>
        </div>
      </div>
      <div
        class="flex-1 overflow-y-auto scrollbar-thin p-2"
        data-ytindex="2"
        data-ytoriginindex="3"
      >
        <div class="text-xs uppercase text-gray-400 font-semibold mb-2 px-3">
          历史任务
        </div>
        <!-- 历史任务列表 -->
        <div class="space-y-1" id="history-tasks">
          <!-- 任务项 - 进行中 -->
          <div
            class="task-item p-3 rounded-lg bg-laser-purple/15 border border-laser-purple/30 cursor-pointer hover:bg-laser-purple/25 hover:shadow-laser transition-all duration-200"
            data-status="running"
          >
            <div class="flex items-start gap-3 mb-2">
              <div
                class="w-16 h-12 bg-dark-light rounded overflow-hidden flex-shrink-0"
              >
                <img
                  alt="视频预览"
                  class="w-full h-full object-cover"
                  src="https://design.gemcoder.com/staticResource/echoAiSystemImages/07df28b2a2da30ce95f69d97ce7be6ed.png"
                />
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex justify-between items-start mb-1">
                  <h3 class="font-medium text-sm truncate">产品宣传视频</h3>
                                     <div
                     class="w-3 h-3 bg-gradient-to-r from-amber-400 to-yellow-500 rounded-full shadow-lg shadow-amber-400/50 animate-pulse"
                     title="进行中"
                   ></div>
                </div>
                <p class="text-xs text-gray-400 mb-2 line-clamp-1">
                  图生视频 | 2分钟前
                </p>
              </div>
            </div>
          </div>
          <!-- 任务项 - 已完成 -->
          <div
            class="task-item p-3 rounded-lg bg-dark-light cursor-pointer hover:bg-laser-purple/15 hover:shadow-laser transition-all duration-200"
            data-status="completed"
          >
            <div class="flex items-start gap-3 mb-2">
              <div
                class="w-16 h-12 bg-dark-light rounded overflow-hidden flex-shrink-0"
              >
                <img
                  alt="儿童故事动画预览"
                  class="w-full h-full object-cover"
                  src="https://design.gemcoder.com/staticResource/echoAiSystemImages/46d9ac1e7c70044c9c7232a535ab37ca.png"
                />
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex justify-between items-start mb-1">
                  <h3 class="font-medium text-sm truncate">儿童故事动画</h3>
                                     <div
                     class="w-3 h-3 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full shadow-lg shadow-emerald-400/50"
                     title="已完成"
                   ></div>
                </div>
                <p class="text-xs text-gray-400 line-clamp-1">
                  文生视频 | 昨天
                </p>
              </div>
            </div>
          </div>
        </div>
        <!-- 任务项 - 失败 -->
        <div
          class="task-item p-3 rounded-lg bg-dark-light cursor-pointer hover:bg-laser-purple/15 hover:shadow-laser transition-all duration-200"
          data-status="failed"
        >
          <div class="flex items-start gap-3 mb-2">
            <div
              class="w-16 h-12 bg-dark-light rounded overflow-hidden flex-shrink-0"
            >
              <img
                alt="会议记录转视频失败预览"
                class="w-full h-full object-cover opacity-50"
                src="https://design.gemcoder.com/staticResource/echoAiSystemImages/14a3ce5e85052d8e1df5db7f99371174.png"
              />
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-start mb-1">
                <h3 class="font-medium text-sm truncate">会议记录转视频</h3>
                                 <div
                   class="w-3 h-3 bg-gradient-to-r from-red-400 to-pink-500 rounded-full shadow-lg shadow-red-400/50"
                   title="失败"
                 ></div>
              </div>
              <p class="text-xs text-gray-400 line-clamp-1 mb-2">
                数字人 | 上周
              </p>
            </div>
          </div>
        </div>
      </div>
      <!-- 空状态 -->
      <div
        class="hidden flex-col items-center justify-center py-12 text-center"
        id="empty-history"
      >
                                     <div
             class="w-20 h-20 bg-laser-purple/20 rounded-full flex items-center justify-center mb-4 animate-float border border-laser-purple/30"
           >
             <i class="fas fa-clock text-laser-purple text-2xl"> </i>
           </div>
        <p class="text-gray-400 text-sm">暂无历史任务</p>
        <p class="text-gray-500 text-xs mt-1">开始创建你的第一个AI视频吧</p>
      </div>
      <div
        class="p-4 border-t border-laser-purple/40"
        data-ytextravalue="extra-f35h9x7a7"
        data-ytindex="3"
        data-ytoriginindex="4"
      ></div>
    </aside>
    <!-- 主内容区 -->
    <main class="flex-1 flex flex-col overflow-hidden">
      <!-- 顶部导航 -->
      <header
        class="h-16 bg-secondary/50 backdrop-blur-sm border-b border-laser-purple/30 flex items-center justify-between px-6"
      >
        <div class="flex items-center" data-ytextravalue="extra-g9keyqfng">
          <button
            class="mr-4 text-gray-400 hover:text-laser-purple transition-colors hover:animate-laser-glow"
            data-ytindex="0"
            data-ytoriginindex="0"
            id="toggle-sidebar"
          >
            <i class="fas fa-bars"> </i>
          </button>
        </div>
        <div class="flex items-center space-x-4">
          <button
            class="text-gray-400 hover:text-laser-purple transition-colors relative hover:animate-laser-glow"
          ></button>
          <div class="flex items-center">
            <img
              alt="用户头像"
              class="w-8 h-8 rounded-full object-cover border border-laser-purple/40"
              src="https://design.gemcoder.com/staticResource/echoAiSystemImages/aaa22b1a328dd23fed01db3a9117a48b.png"
            />
            <span class="ml-2 text-sm hidden md:inline"> 测试用户 </span>
          </div>
        </div>
      </header>
             <!-- 内容区域 -->
       <div
         class="flex-1 overflow-y-auto bg-dark p-6"
       >
        <!-- 初始状态/新建任务面板 -->
        <div class="max-w-4xl mx-auto" id="task-creator">
          <!-- 任务类型选择 -->
          <div class="mb-8">
            <div class="flex border-b border-laser-purple/30">
              <button
                class="task-type-btn py-3 px-4 text-sm font-medium text-gray-400 hover:text-laser-purple transition-colors hover:bg-laser-purple/10"
                data-type="text-to-video"
              >
                <i class="fas fa-file-alt mr-2"> </i>
                文生视频
              </button>
              <button
                class="task-type-btn py-3 px-4 text-sm font-medium text-gray-400 hover:text-laser-purple transition-colors hover:bg-laser-purple/10"
                data-type="image-to-video"
              >
                <i class="fas fa-image mr-2"> </i>
                图生视频
              </button>
                             <button
                 class="task-type-btn py-3 px-4 text-sm font-medium text-laser-purple border-b-2 border-laser-purple flex items-center"
                 data-type="digital-human"
                 id="task-type-digital-human"
               >
                <i class="fas fa-user mr-2"></i>
                数字人
                <span class="ml-1 text-[10px] px-0.5 py-[1.5px] rounded align-top" style="background:linear-gradient(135deg,#d2c1ff,#a88bff,#8e88ff); color:#0c0920; font-weight:700; font-size:10px; line-height:1.1; vertical-align: top; position: relative; top: -0.5em;">
                   New!
                </span>
                <style>
                  .new-badge {
                    transition: box-shadow 0.15s;
                  }
                  .task-type-btn:hover .new-badge {
                    box-shadow: 0 0 8px 2px #d2c1ff, 0 0 16px 4px #a88bff;
                  }
                </style>
              </button>
            </div>
          </div>
                     <!-- 模型选择 -->
           <div class="mb-6">
             <label class="block text-sm text-gray-400 mb-2"> 选择模型 </label>
             <div class="flex flex-wrap gap-2 model-selection">
               <!-- 数字人模型 -->
               <button
                 class="model-btn px-4 py-2 btn-primary rounded-lg text-sm transition-all active"
                 data-model="wan2.1-R2V721-Audio-14B-720P"
                 data-type="digital-human"
               >
                 <i class="fas fa-star text-yellow-400 mr-1"></i>
                 wan2.1-R2V721-Audio-14B-720P
               </button>
               <button
                 class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 transition-all"
                 data-model="wan2.1-R2V720-Audio-14B-720P"
                 data-type="digital-human"
               >
                 wan2.1-R2V720-Audio-14B-720P
               </button>
               <button
                 class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 transition-all"
                 data-model="wan2.1-R2V719-Audio-14B-720P"
                 data-type="digital-human"
               >
                 wan2.1-R2V719-Audio-14B-720P
               </button>
             </div>
           </div>
          <!-- 上传区域 -->
          <div
            class="upload-section grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"
          >
            <!-- 上传图片 -->
            <div
              class="upload-area border-2 border-dashed border-laser-purple/40 rounded-xl p-6 text-center hover:border-laser-purple/70 transition-all cursor-pointer group bg-secondary/10 hover:shadow-laser"
            >
                             <div
                 class="upload-icon mx-auto w-16 h-16 bg-laser-purple/20 rounded-full flex items-center justify-center mb-4 group-hover:bg-laser-purple/30 transition-all"
               >
                 <i class="fas fa-cloud-upload-alt text-laser-purple text-xl"> </i>
               </div>
              <h3 class="font-medium mb-1">上传参考图片</h3>
              <p class="text-xs text-gray-400 mb-4">
                支持JPG、PNG格式，大小不超过10MB
              </p>
                             <button
                 class="text-xs btn-primary px-4 py-1.5 rounded-lg transition-all"
               >
                 选择图片
               </button>
            </div>
            <!-- 上传音频 -->
            <div
              class="upload-area border-2 border-dashed border-laser-purple/40 rounded-xl p-6 text-center hover:border-laser-purple/70 transition-all cursor-pointer group bg-secondary/10 hover:shadow-laser"
            >
              <div
                class="upload-icon mx-auto w-16 h-16 bg-laser-purple/20 rounded-full flex items-center justify-center mb-4 group-hover:bg-laser-purple/30 transition-all"
              >
                <i class="fas fa-microphone text-laser-purple text-xl"> </i>
              </div>
              <h3 class="font-medium mb-1">上传音频</h3>
              <p class="text-xs text-gray-400 mb-400 mb-4">
                支持MP3、WAV格式，最长支持120s
              </p>
              <button
                class="text-xs btn-primary px-4 py-1.5 rounded-lg transition-all"
              >
                上传音频
              </button>
            </div>
          </div>
          <!-- 提示词输入 -->
          <div class="mb-6">
            <div class="flex justify-between items-center mb-2">
              <label class="block text-sm text-gray-400"> 提示词 </label>
              <div class="flex space-x-2">
                <button
                  class="text-xs text-gray-400 hover:text-laser-purple transition-colors hover:animate-laser-glow"
                  title="提示词模板"
                >
                  <i class="fas fa-magic"> </i>
                </button>
                <button
                  class="text-xs text-gray-400 hover:text-laser-purple transition-colors hover:animate-laser-glow"
                  title="历史记录"
                >
                  <i class="fas fa-history"> </i>
                </button>
              </div>
            </div>
            <div class="relative">
              <div class="relative">
                <textarea
                  class="w-full bg-dark-light border border-laser-purple/40 rounded-lg p-4 pr-16 text-sm min-h-[120px] focus:outline-none focus:ring-2 focus:ring-laser-purple/60 transition-all resize-none scrollbar-thin focus:border-laser focus:shadow-laser placeholder-transparent"
                  id="prompt-textarea"
                ></textarea>
                <span
                  class="absolute left-5 top-4 text-gray-500 pointer-events-none select-none text-sm"
                  id="prompt-placeholder"
                  style="transition: opacity 0.2s;"
                >
                  请输入视频生成提示词，描述数字人形象、背景风格、动作要求等...
                </span>
              </div>
              <script>
                // 占位符逻辑
                (function() {
                  const textarea = document.getElementById('prompt-textarea');
                  const placeholder = document.getElementById('prompt-placeholder');
                  function togglePlaceholder() {
                    if (textarea.value.length > 0) {
                      placeholder.style.opacity = '0';
                    } else {
                      placeholder.style.opacity = '1';
                    }
                  }
                  textarea.addEventListener('input', togglePlaceholder);
                  textarea.addEventListener('focus', togglePlaceholder);
                  textarea.addEventListener('blur', togglePlaceholder);
                  // 初始化
                  togglePlaceholder();
                })();
              </script>
              <div class="absolute right-3 bottom-3 flex space-x-1">
                <button
                  class="text-gray-400 hover:text-laser-purple transition-colors p-1 hover:animate-laser-glow"
                >
                  <i class="fas fa-expand"> </i>
                </button>
              </div>
            </div>
            <div class="flex justify-between items-center mt-2">
              <p class="text-xs text-gray-500">最多支持500个字符</p>
              <div class="flex space-x-2">
                                 <button
                   class="text-xs btn-primary px-3 py-1 rounded transition-all"
                 >
                   <i class="fas fa-sync-alt mr-1"> </i>
                   清空
                 </button>
                <button
                  class="text-xs btn-primary px-4 py-1 rounded transition-all"
                >
                  生成视频
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- 任务进行中面板 -->
        <div class="hidden max-w-4xl mx-auto" id="task-running">
          <div class="text-center py-12">
            <div
              class="w-24 h-24 mx-auto bg-laser-purple/20 rounded-full flex items-center justify-center mb-6 animate-pulse-slow"
            >
              <i class="fas fa-spinner fa-spin text-laser-purple text-3xl"> </i>
            </div>
            <h3 class="text-xl font-medium mb-2">视频生成中</h3>
            <p class="text-gray-400 mb-6">AI正在努力生成您的视频，请稍候...</p>
            <div class="max-w-md mx-auto">
              <div class="grid grid-cols-3 gap-4 text-center"></div>
            </div>
            <!-- 任务信息 -->
            <div class="bg-secondary/30 rounded-xl p-4 mt-6">
              <h4 class="text-sm font-medium mb-3 flex items-center">
                <i class="fas fa-info-circle text-laser-purple mr-2"> </i>
                任务参数
              </h4>
              <ul class="space-y-2 text-sm" id="running-task-info">
                <li class="flex justify-between">
                  <span class="text-gray-400"> 任务标题 </span>
                  <span id="running-task-title"> 产品宣传视频 </span>
                </li>
                <li class="flex justify-between">
                  <span class="text-gray-400"> 任务类型 </span>
                  <span id="running-task-type"> 图生视频 </span>
                </li>
                <li class="flex justify-between">
                  <span class="text-gray-400"> 模型名称 </span>
                  <span class="text-laser-purple" id="running-task-model">
                    wan2.1-14B-480P
                  </span>
                </li>
                <li class="flex justify-between">
                  <span class="text-gray-400"> 创建时间 </span>
                  <span id="running-task-created"> 2023-11-21 10:15 </span>
                </li>
                <li class="flex justify-between">
                  <span class="text-gray-400"> 分辨率 </span>
                  <span id="running-task-resolution"> 1080p (FHD) </span>
                </li>
              </ul>
              <!-- 提示词和素材预览 -->
              <div class="mt-4 pt-4 border-t border-laser-purple/30">
                <h4 class="text-sm font-medium mb-3 flex items-center">
                  <i class="fas fa-file-alt text-laser-purple mr-2"> </i>
                  提示词
                </h4>
                <div
                  class="bg-dark-light rounded-lg p-3 text-sm text-gray-300 mb-4 text-sm text-left"
                >
                  <p id="running-task-prompt" class="text-left"></p>
                </div>
                <h4 class="text-sm font-medium mb-3 flex items-center">
                  <i class="fas fa-image text-laser-purple mr-2"> </i>
                  素材预览
                </h4>
                <div class="flex flex-wrap gap-3" id="running-task-assets">
                  <!-- 素材预览将通过JS动态添加 -->
                </div>
              </div>
            </div>
            <div class="mt-8 flex justify-center space-x-3">
                           <button
               class="px-4 py-2 btn-primary rounded-lg text-sm transition-all"
             >
               <i class="fas fa-times mr-2"> </i>
               取消
             </button>
            </div>
          </div>
        </div>
        <!-- 任务失败面板 -->
        <div class="hidden max-w-4xl mx-auto" id="task-failed">
          <div class="text-center py-12">
            <div
              class="w-24 h-24 mx-auto bg-red-500/10 rounded-full flex items-center justify-center mb-6"
            >
              <i class="fas fa-exclamation-triangle text-red-500 text-3xl"> </i>
            </div>
            <h3 class="text-xl font-medium mb-2">视频生成失败</h3>
            <p class="text-gray-400 mb-4 max-w-md mx-auto">
              很抱歉，您的视频生成任务未能完成。这可能是由于资源限制或参数设置问题导致的。
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
              <div class="bg-secondary/30 rounded-xl p-4">
                                 <h4 class="text-sm font-medium mb-3 flex items-center">
                   <i class="fas fa-info-circle text-laser-purple mr-2"> </i>
                   任务参数
                 </h4>
                <ul class="space-y-2 text-sm" id="failed-task-info">
                  <li class="flex justify-between">
                    <span class="text-gray-400"> 任务标题 </span>
                    <span id="failed-task-title"> 会议记录转视频 </span>
                  </li>
                  <li class="flex justify-between">
                    <span class="text-gray-400"> 任务类型 </span>
                    <span id="failed-task-type"> 数字人 </span>
                  </li>
                  <li class="flex justify-between">
                    <span class="text-gray-400"> 模型名称 </span>
                    <span id="failed-task-model"> 数字人V3.0 </span>
                  </li>
                  <li class="flex justify-between">
                    <span class="text-gray-400"> 创建时间 </span>
                    <span id="failed-task-created"> 2023-11-15 11:30 </span>
                  </li>
                  <li class="flex justify-between">
                    <span class="text-gray-400"> 分辨率 </span>
                    <span id="failed-task-resolution"> 1080p (FHD) </span>
                  </li>
                </ul>
              </div>
              <div class="bg-secondary/30 rounded-lg p-4 text-left">
                <h4 class="text-sm font-medium mb-2 text-red-400">错误信息:</h4>
                <p class="text-sm text-gray-300">
                  音频文件解析失败，请检查文件格式是否正确或尝试使用其他音频文件。
                </p>
              </div>
            </div>
            <!-- 提示词和素材预览 -->
            <div
              class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"
              data-ytextravalue="extra-6jugu7pct"
            >
              <div
                class="bg-secondary/30 rounded-xl p-4"
                data-ytextravalue="extra-souc96nrs"
                data-ytindex="0"
                data-ytoriginindex="0"
              >
                                 <h4
                   class="text-sm font-medium mb-3 flex items-center"
                   data-ytindex="0"
                   data-ytoriginindex="0"
                 >
                   <i class="fas fa-file-alt text-laser-purple mr-2"> </i>
                   提示词
                 </h4>
                <div
                  class="bg-dark-light rounded-lg p-3 text-sm text-gray-300 h-full"
                  data-ytindex="1"
                  data-ytoriginindex="1"
                  data-ytparentvalue="extra-souc96nrs"
                  style="opacity: 1; color: rgb(209, 213, 219); font-family: Inter, sans-serif; font-size: 14px; font-weight: 400; font-style: normal; line-height: 20px; text-align: center; text-indent: 0px;top:-12px;position:relative"
                >
                  <p id="failed-task-prompt"></p>
                </div>
              </div>
              <div></div>
            </div>
            <div
              class="bg-secondary/30 rounded-xl p-4"
              data-ytindex="1"
              data-ytoriginindex="1"
              data-ytparentvalue="extra-6jugu7pct"
              style="opacity: 1; color: rgb(243, 244, 246); font-family: Inter, sans-serif; font-size: 16px; font-weight: 400; font-style: normal; line-height: 24px; text-align: center; text-indent: 0px;"
            >
                             <h4 class="text-sm font-medium mb-3 flex items-center" style>
                 <i class="fas fa-image text-laser-purple mr-2"> </i>
                 素材预览
               </h4>
              <div class="flex flex-wrap gap-3" id="failed-task-assets">
                <!-- 素材预览将通过JS动态添加 -->
              </div>
            </div>
            <div
              class="flex justify-center space-x-3"
              style="top:26px;position:relative"
            >
                                                             <button
                   class="px-4 py-2 btn-primary rounded-lg text-sm transition-all"
                   id="retry-task-button"
                 >
                  <i class="fas fa-redo mr-2"> </i>
                  重新生成
                </button>
            </div>
          </div>
        </div>
        <!-- 任务完成面板 - 视频预览 -->
        <div class="hidden max-w-4xl mx-auto" id="task-completed">
          <div class="mb-6" data-ytextravalue="extra-bact2ha1k">
            <div
              class="flex justify-between items-center mb-4"
              data-ytindex="0"
              data-ytoriginindex="0"
            >
              <h3 class="text-lg font-medium" id="completed-task-title"></h3>
              <div class="flex space-x-3">
                                 <button
                   class="text-sm btn-primary px-3 py-1.5 rounded-lg transition-all"
                 >
                   <i class="fas fa-download mr-1"> </i>
                   下载
                 </button>
                                 <button
                   class="text-sm btn-primary px-3 py-1.5 rounded-lg transition-all"
                 >
                   <i class="fas fa-share-alt mr-1"> </i>
                   分享
                 </button>
              </div>
            </div>
            <!-- 视频预览 -->
            <div
              class="relative rounded-xl overflow-hidden bg-black border border-laser-purple/50 aspect-video mb-6 group"
              data-ytextravalue="extra-szcxv1pau"
              data-ytindex="1"
              data-ytoriginindex="1"
              id="completed-video-container"
            >
              <!-- 视频播放器 -->
              <video
                id="completed-video-player"
                class="w-full h-full object-cover hidden"
                controls
                preload="metadata"
              >
                <source src="#" type="video/mp4">
                您的浏览器不支持视频播放。
              </video>
              
              <!-- 视频缩略图 -->
              <img
                alt="视频预览"
                class="w-full h-full object-cover"
                data-ytindex="0"
                data-ytoriginindex="0"
                id="completed-video-thumbnail"
                src
              />
              
              <!-- 重新生成按钮 -->
                             <button
                 class="absolute top-4 right-4 text-sm btn-primary px-3 py-1.5 rounded-lg transition-all"
                 data-ytindex="2"
                 data-ytoriginindex="1"
                 data-ytparentvalue="extra-dm6d1y3yu"
               >
                <i class="fas fa-redo mr-1"> </i>
                重新生成
              </button>
              
              <!-- 视频播放控制层 -->
              <div
                class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end"
                data-ytindex="1"
                data-ytoriginindex="1"
                data-ytparentvalue="extra-szcxv1pau"
              >
                <div class="p-4 w-full">
                  <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-3">
                                             <button
                         class="w-10 h-10 rounded-full btn-primary flex items-center justify-center transition-all"
                         id="play-video-btn"
                       >
                        <i class="fas fa-play"> </i>
                      </button>
                      <div>
                        <div
                          class="text-sm font-medium text-white"
                          id="completed-video-filename"
                        ></div>
                        <div class="text-xs text-gray-300">
                          02:00 | 720p | 15.2MB
                        </div>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button
                        class="text-gray-300 hover:text-white transition-colors"
                      >
                        <i class="fas fa-expand"> </i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 任务参数 -->
            <div
              class="bg-secondary/30 rounded-xl p-4 mb-6"
              data-ytindex="3"
              data-ytoriginindex="3"
            >
                             <h4 class="text-sm font-medium mb-3 flex items-center">
                 <i class="fas fa-info-circle text-laser-purple mr-2"> </i>
                 任务参数
               </h4>
              <ul class="space-y-2 text-sm" id="completed-task-params">
                <li class="flex justify-between">
                  <span class="text-gray-400"> 任务标题 </span>
                  <span id="completed-task-title-full"> </span>
                </li>
                <li class="flex justify-between">
                  <span class="text-gray-400"> 任务类型 </span>
                  <span id="completed-task-type"> </span>
                </li>
                <li class="flex justify-between">
                  <span class="text-gray-400"> 模型名称 </span>
                  <span id="completed-task-model"> </span>
                </li>
                <li class="flex justify-between">
                  <span class="text-gray-400"> 创建时间 </span>
                  <span id="completed-task-created"> </span>
                </li>
                <li class="flex justify-between">
                  <span class="text-gray-400"> 完成时间 </span>
                  <span id="completed-task-finished"> </span>
                </li>
                <li class="flex justify-between">
                  <span class="text-gray-400"> 分辨率 </span>
                  <span id="completed-task-resolution"> </span>
                </li>
              </ul>
            </div>
            
            <!-- 原始提示词 -->
            <div
              class="bg-secondary/30 rounded-xl p-4 mb-6"
              data-ytindex="4"
              data-ytoriginindex="4"
            >
                           <h4 class="text-sm font-medium mb-3 flex items-center">
               <i class="fas fa-file-alt text-laser-purple mr-2"> </i>
               原始提示词
             </h4>
              <div
                class="bg-dark-light rounded-lg p-4 text-sm text-gray-300"
                id="completed-task-prompt"
              ></div>
            </div>
            
            <!-- 任务描述 -->
            <div
              class="bg-secondary/30 rounded-xl p-4 mb-6"
              data-ytindex="7"
              data-ytoriginindex="7"
              id="task-description-section"
              style="display: none;"
            >
                             <h4 class="text-sm font-medium mb-3 flex items-center">
                 <i class="fas fa-info-circle text-laser-purple mr-2"> </i>
                 任务描述
               </h4>
              <div
                class="bg-dark-light rounded-lg p-4 text-sm text-gray-300"
                id="task-description-content"
              ></div>
            </div>
            
            <!-- 素材预览 -->
            <div class="mb-6" data-ytindex="5" data-ytoriginindex="5">
                           <h4 class="text-sm font-medium mb-3 flex items-center">
               <i class="fas fa-image text-laser-purple mr-2"> </i>
               素材预览
             </h4>
              <div class="flex flex-wrap gap-3" id="completed-task-assets">
                <!-- 素材预览将通过JS动态添加 -->
              </div>
            </div>
            
            <!-- 任务标签 -->
            <div class="mb-6" data-ytindex="6" data-ytoriginindex="6">
              <h4 class="text-sm font-medium mb-3 flex items-center">
                <i class="fas fa-tags text-laser-purple mr-2"> </i>
                任务标签
              </h4>
              <div class="flex flex-wrap gap-2" id="completed-task-tags">
                <!-- 任务标签将通过JS动态添加 -->
              </div>
            </div>
            
            <!-- 视频统计信息 -->
            <div class="mb-6" data-ytindex="8" data-ytoriginindex="8" id="video-stats-section" style="display: none;">
                             <h4 class="text-sm font-medium mb-3 flex items-center">
                 <i class="fas fa-chart-bar text-laser-purple mr-2"> </i>
                 视频统计
               </h4>
              <div class="grid grid-cols-3 gap-4">
                <div class="bg-dark-light rounded-lg p-3 text-center">
                  <div class="text-lg font-bold text-laser-purple">2:00</div>
                  <div class="text-xs text-gray-400">时长</div>
                </div>
                <div class="bg-dark-light rounded-lg p-3 text-center">
                  <div class="text-lg font-bold text-laser-purple">720p</div>
                  <div class="text-xs text-gray-400">分辨率</div>
                </div>
                <div class="bg-dark-light rounded-lg p-3 text-center">
                  <div class="text-lg font-bold text-laser-purple">15.2MB</div>
                  <div class="text-xs text-gray-400">文件大小</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script>
      // 页面加载完成后初始化
              document.addEventListener('DOMContentLoaded', () => {
                  // 获取DOM元素
      const taskCreator = document.getElementById('task-creator');
                  const taskRunning = document.getElementById('task-running');
                  const taskCompleted = document.getElementById('task-completed');
                  const taskFailed = document.getElementById('task-failed');
                  const historyTasks = document.getElementById('history-tasks');

                  const taskItems = document.querySelectorAll('.task-item');
                  const taskTypeBtns = document.querySelectorAll('.task-type-btn');
                  const modelBtns = document.querySelectorAll('.model-btn');
                  const newTaskBtn = document.getElementById('new-task-btn');
                  const toggleSidebar = document.getElementById('toggle-sidebar');
                  const sidebar = document.querySelector('aside');
                  const uploadSection = document.querySelector('.upload-section');
                  const promptSection = document.querySelector('#task-creator > div:nth-child(4)');
                  const modelSelection = document.querySelector('.model-selection');

                  // 任务数据
                  const taskData = {
                      '产品宣传视频': {
                          type: '数字人',
                          created: '2023-11-21 10:15',
                          finished: '进行中',
      model: 'wan2.1-14B-480P',
                          resolution: '1080p (FHD)',
                          prompt: '生成一个30秒的产品宣传视频，数字人形象为年轻女性，专业商务风格，背景为科技感蓝色渐变，展示产品特点和使用场景，动作自然流畅，表情亲切友好。',
                          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/0566e17b21a5da1e75de6978abf27a7c.png',
                          filename: '产品宣传视频.mp4',
                          tags: ['产品宣传', '数字人', '科技感', '商务', '4K']
                      },
                      '儿童故事动画': {
                          type: '文生视频',
                          created: '2023-11-19 14:20',
                          finished: '2023-11-19 14:28',
                          model: '文生视频V3.0',
                          resolution: '720p (HD)',
                          prompt: '生成一个2分钟的儿童故事动画，风格类似迪士尼动画，主角是一只聪明的小兔子和他的森林朋友，色彩鲜艳，情节简单有趣，适合5-8岁儿童观看。',
                          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/085b3a357bbfcbfa486ba901a2b2ae96.png',
                          filename: '儿童故事动画.mp4',
                          tags: ['儿童', '动画', '故事', '教育', '童话'],
                          duration: '02:00',
                          size: '15.2MB'
                      },
                      '会议记录转视频': {
                          type: '数字人',
                          created: '2023-11-15 11:30',
                          finished: '失败',
                          model: '数字人V3.0',
                          resolution: '1080p (FHD)',
                          prompt: '将会议记录转换为10分钟的总结视频，数字人形象为中性商务风格，条理清晰地呈现会议要点、决策事项和后续行动计划，背景简洁专业。',
                          thumbnail: 'https://design.gemcoder.com/staticResource/echoAiSystemImages/601930a4a3137a530b1f537297d6f2da.png',
                          filename: '会议记录转视频.mp4',
                          tags: ['会议', '数字人', '总结', '商务', '办公']
                      }
                  };

                  // 侧边栏切换
                  toggleSidebar.addEventListener('click', () => {
                      sidebar.classList.toggle('w-64');
                      sidebar.classList.toggle('w-0');
                      sidebar.classList.toggle('hidden');
                  });

                  // 任务类型切换
                  taskTypeBtns.forEach(btn => {
                      btn.addEventListener('click', () => {
                          // 移除所有按钮的选中状态
                          taskTypeBtns.forEach(b => {
                              b.classList.remove('text-primary', 'border-b-2', 'border-primary');
                              b.classList.add('text-gray-400');
                          });

                          // 设置当前按钮为选中状态
                          btn.classList.remove('text-gray-400');
                          btn.classList.add('text-primary', 'border-b-2', 'border-primary');

                          // 更新标题


                          // 根据任务类型显示/隐藏不同区域
                          const taskType = btn.dataset.type;

                          // 重置所有区域显示状态
                          uploadSection.style.display = 'grid';
                          promptSection.style.display = 'block';
                          modelSelection.style.display = 'flex';

                          // 根据任务类型调整界面
                          if (taskType === 'text-to-video') {
                              // 文生视频: 只显示提示词输入框，模型只保留文生视频专用模型
                              uploadSection.style.display = 'none';

                              // 更新模型选择 - 文生视频专用模型
                              modelSelection.innerHTML = `





             <button class="model-btn px-4 py-2 btn-primary rounded-lg text-sm transition-all active">
         <i class="fas fa-star text-yellow-400 mr-1">
         </i>
         文生视频V3.0
       </button>
             <button class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 transition-all">
         文生视频V2.5
       </button>
       <button class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 transition-all">
         文生视频V2.0
       </button>





      `;
                          } else if (taskType === 'image-to-video') {
      // 图生视频: 显示上传图片和提示词输入框，模型只保留图生视频专用模型
                              promptSection.style.display = 'block';
                              document.querySelector('.upload-section > div:nth-child(2)').style.display = 'none';
                              document.querySelector('.upload-section').classList.remove('md:grid-cols-2');
                              document.querySelector('.upload-section').classList.add('md:grid-cols-1');

                              // 更新模型选择 - 图生视频专用模型
                              modelSelection.innerHTML = `





             <button class="model-btn px-4 py-2 btn-primary rounded-lg text-sm transition-all active">
         <i class="fas fa-star text-yellow-400 mr-1">
         </i>
         图生视频V3.0
       </button>
             <button class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 transition-all">
         图生视频V2.5
       </button>
       <button class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 transition-all">
         图生视频V2.0
       </button>





      `;
                          } else if (taskType === 'digital-human') {
                              // 数字人模式: 显示上传图片和音频，模型只保留数字人专用模型
                              document.querySelector('.upload-section > div:nth-child(2)').style.display = 'block';
                              document.querySelector('.upload-section').classList.remove('md:grid-cols-1');
                              document.querySelector('.upload-section').classList.add('md:grid-cols-2');

                              // 更新模型选择 - 数字人专用模型
                              modelSelection.innerHTML = `





      <button class="model-btn px-4 py-2 btn-primary rounded-lg text-sm transition-all active">
        <i class="fas fa-star text-yellow-400 mr-1">
        </i>
        数字人V3.0
      </button>
      <button class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 transition-all">
        数字人V2.5
      </button>
      <button class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 transition-all">
        数字人V2.0
      </button>





      `;
                          }

                          // 为新模式下的模型按钮添加事件监听
                          document.querySelectorAll('.model-btn').forEach(btn => {
                              btn.addEventListener('click', () => {
                                  document.querySelectorAll('.model-btn').forEach(b => {
                                      b.classList.remove('active', 'border-laser-purple/40', 'bg-laser-purple/20');
                                      b.classList.add('border-gray-700', 'bg-dark-light');
                                  });

                                  btn.classList.remove('border-gray-700', 'bg-dark-light');
                                  btn.classList.add('active', 'border-laser-purple/40', 'bg-laser-purple/20');
                              });
                          });
                      });
                  });

                  // 模型选择
                  modelBtns.forEach(btn => {
                      btn.addEventListener('click', () => {
                          modelBtns.forEach(b => {
                              b.classList.remove('active', 'border-laser-purple/40', 'bg-laser-purple/20');
                              b.classList.add('border-gray-700', 'bg-dark-light');
                          });

                          btn.classList.remove('border-gray-700', 'bg-dark-light');
                          btn.classList.add('active', 'border-laser-purple/40', 'bg-laser-purple/20');
                      });
                  });

                                     // 历史任务点击事件
                   document.querySelectorAll('.task-item').forEach(item => {
                       item.addEventListener('click', () => {
                           // 获取任务名称和状态
                           const taskName = item.querySelector('h3').textContent;
                           const status = item.dataset.status;

                          // 更新主标题


                          // 隐藏所有面板
                          taskCreator.classList.add('hidden');
                          taskRunning.classList.add('hidden');
                          taskCompleted.classList.add('hidden');
                          taskFailed.classList.add('hidden');

                                                     // 移除所有任务项的选中状态
                           document.querySelectorAll('.task-item').forEach(i => {
                               i.classList.remove('bg-laser-purple/15', 'border-laser-purple/30', 'ring-2', 'ring-laser-purple/50');
                               if(i.dataset.status !== 'running') {
                                   i.classList.add('bg-dark-light');
                               }
                           });

                          // 设置当前任务项为选中状态
                          item.classList.remove('bg-dark-light');
                          item.classList.add('bg-laser-purple/15', 'border-laser-purple/30', 'ring-2', 'ring-laser-purple/50');

                          // 根据状态显示对应面板
                          if (status === 'running') {
                              taskRunning.classList.remove('hidden');
                          } else if (status === 'completed') {
                              // 更新已完成任务的详细信息
                              updateCompletedTaskDetails(taskName);
                              taskCompleted.classList.remove('hidden');
                              
                              // 如果是儿童故事动画任务，显示特殊的视频预览
                              if (taskName === '儿童故事动画') {
                                  // 更新视频信息为儿童故事动画的特定数据
                                  document.getElementById('completed-video-filename').textContent = '儿童故事动画.mp4';
                                  
                                  // 更新视频时长、分辨率和大小信息
                                  const videoInfo = document.querySelector('#completed-video-container .text-xs.text-gray-300');
                                  if (videoInfo) {
                                      videoInfo.textContent = '02:00 | 720p | 15.2MB';
                                  }
                                  
                                  // 确保视频缩略图正确显示
                                  const thumbnail = document.getElementById('completed-video-thumbnail');
                                  if (thumbnail) {
                                      thumbnail.src = 'https://design.gemcoder.com/staticResource/echoAiSystemImages/085b3a357bbfcbfa486ba901a2b2ae96.png';
                                      thumbnail.alt = '儿童故事动画预览';
                                  }
                                  
                                  // 为儿童故事动画设置专门的视频源
                                  const videoPlayer = document.getElementById('completed-video-player');
                                  if (videoPlayer) {
                                      const videoSource = videoPlayer.querySelector('source');
                                      if (videoSource) {
                                          // 这里可以设置为实际的儿童故事动画视频URL
                                          videoSource.src = 'https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4';
                                          videoPlayer.load();
                                      }
                                  }
                                  
                                  // 显示儿童故事动画的标签信息
                                  const taskInfo = taskData[taskName];
                                  if (taskInfo && taskInfo.tags) {
                                      // 可以在界面上显示标签信息
                                      console.log('儿童故事动画标签:', taskInfo.tags);
                                      
                                      // 显示任务描述区域
                                      const taskDescriptionSection = document.getElementById('task-description-section');
                                      const taskDescriptionContent = document.getElementById('task-description-content');
                                      if (taskDescriptionSection && taskDescriptionContent) {
                                          taskDescriptionSection.style.display = 'block';
                                          taskDescriptionContent.innerHTML = `
                                            <p class="mb-2">这是一个专为儿童设计的2分钟动画视频，采用迪士尼风格的动画制作。</p>
                                            <p class="mb-2">主要特点：</p>
                                            <ul class="list-disc list-inside space-y-1 text-gray-400">
                                              <li>主角：聪明的小兔子和森林朋友</li>
                                              <li>风格：色彩鲜艳，情节简单有趣</li>
                                              <li>目标受众：5-8岁儿童</li>
                                              <li>时长：2分钟</li>
                                              <li>分辨率：720p (HD)</li>
                                            </ul>
                                          `;
                                      }
                                      
                                      // 显示视频统计信息
                                      const videoStatsSection = document.getElementById('video-stats-section');
                                      if (videoStatsSection) {
                                          videoStatsSection.style.display = 'block';
                                      }
                                  }
                              }
                          } else if (status === 'failed') {
                              taskFailed.classList.remove('hidden');

                              // 更新失败任务的详细信息
                              const taskInfo = taskData[taskName];
                              if (taskInfo) {
                                  document.getElementById('failed-task-prompt').textContent = taskInfo.prompt;

                                  // 更新素材预览
                                  const assetsContainer = document.getElementById('failed-task-assets');
                                  assetsContainer.innerHTML = '';

                                  // 添加缩略图预览
                                  const thumbnail = document.createElement('div');
                                  thumbnail.className = 'w-24 h-16 bg-dark rounded overflow-hidden';
                                  thumbnail.innerHTML = `<img src="${taskInfo.thumbnail}" alt="素材预览" class="w-full h-full object-cover opacity-50">`;
                                  assetsContainer.appendChild(thumbnail);
                              }
                          }

                          // 更新进行中任务的详细信息
                          if (status === 'running') {
                              const taskInfo = taskData[taskName];
                              if (taskInfo) {
                                  document.getElementById('running-task-title').textContent = taskName;
                                  document.getElementById('running-task-type').textContent = taskInfo.type;
                                  document.getElementById('running-task-model').textContent = taskInfo.model;
                                  document.getElementById('running-task-created').textContent = taskInfo.created;
                                  document.getElementById('running-task-resolution').textContent = taskInfo.resolution;

                                  // 更新提示词
                                  document.getElementById('running-task-prompt').textContent = taskInfo.prompt;

                                  // 更新素材预览
                                  const assetsContainer = document.getElementById('running-task-assets');
                                  assetsContainer.innerHTML = '';

                                  // 添加缩略图预览
                                  const thumbnail = document.createElement('div');
                                  thumbnail.className = 'w-24 h-16 bg-dark rounded overflow-hidden';
                                  thumbnail.innerHTML = `<img src="${taskInfo.thumbnail}" alt="素材预览" class="w-full h-full object-cover">`;
                                  assetsContainer.appendChild(thumbnail);
                              }
                          }
                      });
                  });

                                        // 更新已完成任务的详细信息
                      function updateCompletedTaskDetails(taskName) {
                          const taskInfo = taskData[taskName];
                          if (!taskInfo) return;
                          
                          // 隐藏任务描述区域（默认隐藏）
                          const taskDescriptionSection = document.getElementById('task-description-section');
                          if (taskDescriptionSection) {
                              taskDescriptionSection.style.display = 'none';
                          }
                          
                          // 隐藏视频统计信息区域（默认隐藏）
                          const videoStatsSection = document.getElementById('video-stats-section');
                          if (videoStatsSection) {
                              videoStatsSection.style.display = 'none';
                          }

                      // 更新标题和基本信息
                      document.getElementById('completed-task-title').textContent = taskName;
                      document.getElementById('completed-task-title-full').textContent = taskName;
                      document.getElementById('completed-task-type').textContent = taskInfo.type;
                      document.getElementById('completed-task-model').textContent = taskInfo.model;
                      document.getElementById('completed-task-created').textContent = taskInfo.created;
                      document.getElementById('completed-task-finished').textContent = taskInfo.finished;
                      document.getElementById('completed-task-resolution').textContent = taskInfo.resolution;
                      document.getElementById('completed-task-prompt').textContent = taskInfo.prompt;
                      document.getElementById('completed-task-filename').textContent = taskInfo.filename;

                      // 更新缩略图
                      document.getElementById('completed-video-thumbnail').src = taskInfo.thumbnail;

                      // 更新素材预览
                      const assetsContainer = document.getElementById('completed-task-assets');
                      assetsContainer.innerHTML = '';

                      // 添加缩略图预览
                      const thumbnail = document.createElement('div');
                      thumbnail.className = 'w-32 h-16 bg-dark rounded overflow-hidden';
                      thumbnail.innerHTML = `<img src="${taskInfo.thumbnail}" alt="素材预览" class="w-full h-full object-cover">`;
                      assetsContainer.appendChild(thumbnail);
                      
                      // 更新任务标签
                      const tagsContainer = document.getElementById('completed-task-tags');
                      if (tagsContainer && taskInfo.tags) {
                          tagsContainer.innerHTML = '';
                          taskInfo.tags.forEach(tag => {
                              const tagElement = document.createElement('span');
                              tagElement.className = 'px-3 py-1 bg-laser-purple/20 text-laser-purple text-xs rounded-full border border-laser-purple/30';
                              tagElement.textContent = tag;
                              tagsContainer.appendChild(tagElement);
                          });
                      }
                  }

                  // 新建任务按钮点击事件
                  newTaskBtn.addEventListener('click', () => {
                      // 显示任务创建面板，隐藏其他面板
                      taskCreator.classList.remove('hidden');
                      taskRunning.classList.add('hidden');
                      taskCompleted.classList.add('hidden');
                      taskFailed.classList.add('hidden');

                                             // 重置任务项选中状态
                       document.querySelectorAll('.task-item').forEach(i => {
                           i.classList.remove('bg-laser-purple/15', 'border-laser-purple/30');
                           i.classList.add('bg-dark-light');
                       });

                      // 更新标题


                      // 重置任务类型为数字人
                      taskTypeBtns.forEach(b => {
                          b.classList.remove('text-laser-purple', 'border-b-2', 'border-laser-purple');
                          b.classList.add('text-gray-400');
                      });
                      document.querySelector('[data-type="digital-human"]').classList.remove('text-gray-400');
                      document.querySelector('[data-type="digital-human"]').classList.add('text-laser-purple', 'border-b-2', 'border-laser-purple');

                      // 重置上传区域和提示词区域
                      uploadSection.style.display = 'grid';
                      promptSection.style.display = 'block';
                      document.querySelector('.upload-section > div:nth-child(2)').style.display = 'block';
                      document.querySelector('.upload-section').classList.remove('md:grid-cols-1');
                      document.querySelector('.upload-section').classList.add('md:grid-cols-2');

                      // 重置模型选择 - 数字人专用模型
                      modelSelection.innerHTML = `





      <button class="model-btn px-4 py-2 bg-laser-purple/20 border border-laser-purple/40 rounded-lg text-sm hover:bg-laser-purple/30 transition-all active shadow-laser animate-electric-pulse">
        <i class="fas fa-star text-yellow-400 mr-1">
        </i>
        数字人V3.0
      </button>
      <button class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 hover:border-laser-purple/40 transition-all hover:shadow-laser">
        数字人V2.5
      </button>
      <button class="model-btn px-4 py-2 bg-dark-light border border-gray-700 rounded-lg text-sm hover:bg-laser-purple/15 hover:border-laser-purple/40 transition-all hover:shadow-laser">
        数字人V2.0
      </button>





      `;

                      // 为模型按钮添加事件监听
                      document.querySelectorAll('.model-btn').forEach(btn => {
                          btn.addEventListener('click', () => {
                              document.querySelectorAll('.model-btn').forEach(b => {
                                  b.classList.remove('active', 'border-laser-purple/40', 'bg-laser-purple/20');
                                  b.classList.add('border-gray-700', 'bg-dark-light');
                              });

                              btn.classList.remove('border-gray-700', 'bg-dark-light');
                              btn.classList.add('active', 'border-laser-purple/40', 'bg-laser-purple/20');
                          });
                      });
                  });

                  // 失败任务重试按钮点击事件
                  document.getElementById('retry-task-button').addEventListener('click', () => {
                      taskCreator.classList.remove('hidden');
                      taskFailed.classList.add('hidden');

                  });

                  // 检查是否有历史任务，控制空状态显示
                  checkHistoryEmpty();
                  
                  // 视频播放功能
                  const playVideoBtn = document.getElementById('play-video-btn');
                  const videoPlayer = document.getElementById('completed-video-player');
                  const videoThumbnail = document.getElementById('completed-video-thumbnail');
                  
                  if (playVideoBtn && videoPlayer && videoThumbnail) {
                      playVideoBtn.addEventListener('click', () => {
                          // 隐藏缩略图，显示视频播放器
                          videoThumbnail.classList.add('hidden');
                          videoPlayer.classList.remove('hidden');
                          
                          // 设置视频源（这里使用一个示例视频URL，实际使用时应该替换为真实的视频URL）
                          const videoSource = videoPlayer.querySelector('source');
                          if (videoSource) {
                              // 为儿童故事动画设置一个示例视频URL
                              videoSource.src = 'https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4';
                              videoPlayer.load();
                          }
                          
                          // 播放视频
                          videoPlayer.play().catch(e => {
                              console.log('视频播放失败:', e);
                          });
                          
                          // 更新播放按钮图标
                          playVideoBtn.innerHTML = '<i class="fas fa-pause"></i>';
                      });
                      
                      // 视频播放状态监听
                      videoPlayer.addEventListener('play', () => {
                          playVideoBtn.innerHTML = '<i class="fas fa-pause"></i>';
                      });
                      
                      videoPlayer.addEventListener('pause', () => {
                          playVideoBtn.innerHTML = '<i class="fas fa-play"></i>';
                      });
                      
                      videoPlayer.addEventListener('ended', () => {
                          // 视频播放结束后，显示缩略图，隐藏播放器
                          videoPlayer.classList.add('hidden');
                          videoThumbnail.classList.remove('hidden');
                          playVideoBtn.innerHTML = '<i class="fas fa-play"></i>';
                      });
                  }
              });

              // 检查历史任务是否为空
              function checkHistoryEmpty() {
                  const historyTasks = document.getElementById('history-tasks');
                  const emptyHistory = document.getElementById('empty-history');

                  if (historyTasks.children.length <= 1) { // 只包含标题时
                      historyTasks.classList.add('hidden');
                      emptyHistory.classList.remove('hidden');
                  } else {
                      historyTasks.classList.remove('hidden');
                      emptyHistory.classList.add('hidden');
                  }
              }
    </script>
  </body>
</html>
